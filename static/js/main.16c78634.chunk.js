(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{148:function(e,t,n){e.exports=n(391)},153:function(e,t){},154:function(e,t,n){},164:function(e,t,n){},372:function(e,t,n){},378:function(e,t,n){},391:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(138),c=n.n(o),l=n(397),i=n(145),u=n.n(i),m=n(139),s=n.n(m),d=n(16),f=n(32),b=n(3),h=n(51),p=n(52),g=function(e){return Object.prototype.toString.call(e)},E=function(e){return function(t,n){var a=e[n.type];return a?a(t,n.payload):new Error}},v=function(){return"_"+Math.random().toString(36).substr(2,9)},y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],N=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],j=["January","February","March","April","May","June","July","August","September","October","November","December"],O=[31,28,31,30,31,30,31,31,30,31,30,31];var w=Array.apply(null,Array(24)).map(function(e,t){var n=t+":00";return 4===n.length&&(n="0"+n),n}),k=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,[{key:"getMonth",value:function(e){var t=new Date,n=t.getDate(),a=t.getMonth(),r=t.getFullYear();e||(e=new Date);var o=e.getMonth(),c=e.getFullYear(),l=new Date(c,o,1).getDay(),i=o+1,u=c,m=o-1,s=c;o>=11&&(i=1,u+=1),0===o&&(m=11,s-=1);var d=new Date(u,i,1),f=new Date(s,m,1),b=O[o];1===o&&(c%4===0&&c%100!==0||c%400===0)&&(b=29);var h,p,g={};g.name=j[o],g.length=b,g.year=c,g.days=[],g.weeks=[],g.getNextMonth=this.getMonth.bind(this,d),g.getPreviousMonth=this.getMonth.bind(this,f);for(var E=1,v=0;v<9;v++){p=[];for(var w=0;w<=6;w++)h={},E<=b&&(v>0||w>=l)?(h.date=E,h.day=y[w],h.dayLabel=N[w],h.dayNo=w,h.month=j[o],h.monthNo=o,h.year=c,h.identifier=h.date+h.month+h.year,h.dateObj=new Date(h.year,h.monthNo,h.date),h.isToday=!1,h.date===n&&h.monthNo===a&&h.year===r&&(h.isToday=!0),g.days.push(h),p.push(h),E++):(h.date=null,p.push(h));if(g.weeks.push(p),E>b)break}return g}},{key:"weekdays",get:function(){return y}},{key:"weekdaysAbbr",get:function(){return N}},{key:"months",get:function(){return j}},{key:"hours",get:function(){return w}}]),e}(),x=function(e,t,n){var r=localStorage.getItem(e);"[object String]"===g(r)&&(r=JSON.parse(r));var o=Object(a.useReducer)(t,r||n),c=Object(b.a)(o,2),l=c[0],i=c[1];return Object(a.useEffect)(function(){if("[object Object]"===g(l)){var t=JSON.stringify(l);localStorage.setItem(e,t)}},[l]),[l,i]},S=n(14),C=n(17),M=(n(153),E({}));n(154);function I(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useState)(!1),o=Object(b.a)(n,2),c=o[0],l=o[1],i=Object(a.useState)(!1),u=Object(b.a)(i,2),m=u[0],s=u[1],f=function(){l(!1),s(!1)},h=function(n){e.current?e.current.contains(n.target)||t.current.contains(n.target)||f():console.log("No dropdown.current")},p=function(){document.body.removeEventListener("click",h)};Object(a.useEffect)(function(){c?document.body.addEventListener("click",h):p()},[c]),Object(a.useEffect)(function(){return function(){p()}},[]);var g="menu box-shadow-large background-color-blue";return c&&(g+=" menu--open"),m&&(g+=" menu--hovered"),r.a.createElement("div",{className:g,onMouseOver:function(){s(!0)},onMouseOut:function(){s(!1)}},r.a.createElement("div",{ref:t,onClick:function(e){e&&e.preventDefault(),c?f():l(!0)},id:"dropDown",className:"menu-button cursor-pointer border-bottom-radius background-color-blue"},r.a.createElement("span",{className:"font-size-small font-family-raleway color-white"},"Menu")),r.a.createElement("div",{ref:e,className:"menu-box padding-all font-family-raleway color-white"},r.a.createElement("h1",{className:"font-family-comfortaa inline-block font-size-bigger line-height-site-title margin-right-2 margin-left"},"ergusto"),r.a.createElement("ul",{className:"inline-block float-right"},r.a.createElement("li",{className:"inline-block margin-right"},r.a.createElement(d.b,{className:"color-white no-decoration line-height-site-title",to:"/"},"Intro")),r.a.createElement("li",{className:"inline-block margin-right"},r.a.createElement(d.b,{className:"color-white no-decoration line-height-site-title",to:"/calendar"},"Calendar")),r.a.createElement("li",{className:"inline-block margin-right"},r.a.createElement(d.b,{className:"color-white no-decoration line-height-site-title",to:"/comments"},"Comments")))))}var D=Object(a.createContext)(null);function R(e){var t=e.calendar,n=e.state,a=e.dispatch;return r.a.createElement(D.Provider,{value:{calendar:t,state:n,dispatch:a}},e.children)}var T=n(56);function z(){var e=Object(a.useState)(!0),t=Object(b.a)(e,2),n=t[0],o=t[1],c=T.a.div({hidden:{opacity:.5,scaleY:1.5,scaleX:2,transition:{duration:500}}});return r.a.createElement(c,{onClick:function(){return o(!n)},pose:n?"visible":"hidden",className:"padding-all inline-block background-color-blue"})}n(164);function A(){var e=Object(a.useContext)(D).calendar.getMonth(),t=Object(a.useState)(e),n=Object(b.a)(t,2),o=n[0],c=n[1];return r.a.createElement("div",{className:"background-color-white border-all border-color-grey border-radius box-shadow width-100 centered max-width-14"},r.a.createElement("header",{className:"calendar-header border-color-grey clearfix margin-bottom"},r.a.createElement("div",{className:"float-left border-color-grey"},r.a.createElement("a",{href:"/previous",onClick:function(e){e.preventDefault(),function(){var e=o.getPreviousMonth();c(e)}()},className:"block no-decoration padding-horizontal font-size-small color-dark-blue color-blue--on-hover font-weight-bold"},"Previous")),r.a.createElement("div",{className:"float-left"},r.a.createElement("h3",{className:"margin-left color-dark-blue text-align-center width-100 inline-block"},o.name," ",o.year)),r.a.createElement("div",{className:"float-right block border-color-grey"},r.a.createElement("a",{href:"/next",onClick:function(e){e.preventDefault(),function(){var e=o.getNextMonth();c(e)}()},className:"padding-horizontal no-decoration font-size-small color-dark-blue color-blue--on-hover font-weight-bold"},"Next"))),r.a.createElement("div",{className:"padding-all"},r.a.createElement(z,null)))}var J=function(){return{}},L=null;function P(){var e=x("ergusto:calendar",M,J()),t=Object(b.a)(e,2),n=t[0],a=t[1],o=(L||(L=new k),L);return r.a.createElement("div",{className:"page full-height padding-vertical-4 font-family-raleway"},r.a.createElement(I,null),r.a.createElement(R,{calendar:o,state:n,dispatch:a},r.a.createElement(A,null)))}var F,_=function(e){return Object(C.a)({text:"",parentId:null,username:"ergusto",date:new Date,id:v()},e)},Y=function(){var e={comments:[]},t=v(),n=v();return e.comments.push(_({text:"Hi. I'm a programmer with an interest in user interface and user experience design. My name's Fergus Ruston.",parentId:null})),e.comments.push(_({id:t,text:"This website is a playground I use to experiment with UX and development. It contains a number of projects I designed and built with React and Redux.",parentId:null})),e.comments.push(_({text:"I'm also interested in Python, Django, NodeJS, Bash, API design, and various other languages, disciplines and technologies. You can see some of my other projects [here](http://www.github.com/ergusto).",parentId:t,id:n})),e.comments.push(_({text:"Most examples on this website are interactive, and use the Local Storage API to persist data between sessions. Try replying to or editing one of these comments. ",parentId:n})),e},q="COMMENT_CREATE",B="COMMENT_EDIT",H="COMMENT_DELETE",W="COMMENTS_RESET",X=E((F={},Object(S.a)(F,W,function(e,t){return Y()}),Object(S.a)(F,q,function(e,t){var n=t.comment;return Object.assign({},e,{comments:[].concat([n],e.comments)})}),Object(S.a)(F,B,function(e,t){var n=t.comment;return Object.assign({},e,{comments:e.comments.map(function(e){return n.id===e.id?n:e})})}),Object(S.a)(F,H,function(e,t){var n=t.comment,a=e.comments.filter(function(e){return e.id!==n.id&&e.parentId!==n.id});return Object.assign({},e,{comments:a})}),F)),G=Object(a.createContext)(null);function U(e){var t=e.state,n=e.dispatch;return r.a.createElement(G.Provider,{value:{state:t,dispatch:n}},e.children)}var V=n(140),K=n.n(V),Q=n(398),Z=n(58),$=n(85),ee=$.object().shape({text:$.string().required("required")});function te(e){var t=e.title,n=e.comment,a=void 0===n?{}:n,o=e.onSubmit,c=e.onCancel;return r.a.createElement("div",{className:"background-color-white border border-color-grey border-radius overflow-hidden box-shadow font-family-raleway padding-bottom padding-horizontal padding-top-medium"},r.a.createElement("small",{className:"color-muted-grey inline-block font-weight-normal margin-bottom-medium margin-top-small"},t),r.a.createElement(Z.c,{initialValues:a,validationSchema:ee,onSubmit:o,render:function(e){var t=e.errors;e.validateForm;return r.a.createElement(Z.b,null,r.a.createElement(Z.a,{component:"textarea",name:"text",className:"form-field line-height-copy font-size-medium max-width-100 min-width-100"}),t.text?r.a.createElement("p",{className:"font-size-small color-muted-grey margin-top-medium margin-bottom-small"},t.text):null,r.a.createElement("button",{type:"submit",className:"button button--small button--outline color-muted-grey margin-top-medium"},"Submit"),r.a.createElement("button",{onClick:c,type:"button",className:"button button--small button--outline color-muted-grey margin-top-medium margin-left-medium"},"Cancel"))}}))}function ne(e){var t=e.comment,n=e.onSuccess,o=e.onCancel,c=(e.actions,Object(a.useContext)(G).dispatch);return r.a.createElement(te,{title:"reply",onSubmit:function(e){n(),c({type:q,payload:{comment:_(Object(C.a)({},e,{parentId:t.id}))}})},onCancel:o})}function ae(e){var t=e.comment,n=e.onSuccess,o=e.onCancel,c=(e.actions,Object(a.useContext)(G).dispatch);return r.a.createElement(te,{title:"edit",onSubmit:function(e){n(),c({type:B,payload:{comment:e}})},onCancel:o,comment:t})}var re=T.a.div({closed:{height:0},open:{height:"auto"}}),oe=function(e,t,n){return r.a.createElement("div",{className:"padding-top"},r.a.createElement(ae,{comment:e,onSuccess:t,onCancel:n}))},ce=function(e,t,n){return r.a.createElement("div",{className:"padding-top"},r.a.createElement(ne,{comment:e,onSuccess:t,onCancel:n}))};var le=function(e){var t=e.comment,n=Object(a.useContext)(G).dispatch,o=Object(a.useState)(!1),c=Object(b.a)(o,2),l=c[0],i=c[1],u=Object(a.useState)(!1),m=Object(b.a)(u,2),s=m[0],d=m[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"background-color-white border border-color-grey border-radius overflow-hidden box-shadow"},r.a.createElement("div",{className:"padding-horizontal-large padding-vertical"},r.a.createElement("small",{className:"float-right color-muted-grey margin-bottom-medium block"},r.a.createElement(Q.a,{date:new Date(t.date)})),r.a.createElement("small",{className:"color-muted-grey margin-bottom-medium block"},t.username),r.a.createElement("div",{className:"line-height-copy font-size-medium color-black"},r.a.createElement(K.a,{source:t.text}))),r.a.createElement("footer",{className:"box-shadow-inset border-top border-color-grey border-bottom-radius background-color-light-grey padding-vertical-small font-size-tiny padding-horizontal-large"},r.a.createElement("button",{onClick:function(e){i(!1),d(!s)},href:"#",className:"color-muted-grey color-black--on-hover cursor-pointer no-decoration margin-right"},"reply"),r.a.createElement("button",{onClick:function(e){d(!1),i(!l)},href:"#",className:"color-muted-grey color-black--on-hover cursor-pointer no-decoration margin-right"},"edit"),r.a.createElement("button",{onClick:function(e){n({type:H,payload:{comment:t}})},href:"#",className:"color-muted-grey color-black--on-hover cursor-pointer no-decoration"},"remove"))),r.a.createElement(re,{className:"overflow-hidden",pose:l?"open":"closed"},oe(t,function(){return i(!1)},function(){return i(!1)})),r.a.createElement(re,{className:"overflow-hidden",pose:s?"open":"closed"},ce(t,function(){return d(!1)},function(){return d(!1)})))};function ie(e){var t=e.parentId,n=void 0===t?null:t,o=Object(a.useContext)(G).state.comments.filter(function(e){return e.parentId===n});return r.a.createElement("div",{className:"max-width-9"},r.a.createElement("ul",null,o.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(le,{ListComponent:ie,comment:e})),r.a.createElement("div",{className:"margin-left"},r.a.createElement(ie,{parentId:e.id})))})))}function ue(){var e=x("ergusto:comments",X,Y()),t=Object(b.a)(e,2),n=t[0],a=t[1];return n.comments.filter(function(e){return null===e.parentId}).length||a({type:W}),r.a.createElement("div",{className:"page font-family-raleway full-height justify-centre padding-horizontal padding-vertical-3"},r.a.createElement(I,null),r.a.createElement(U,{state:n,dispatch:a},r.a.createElement(ie,null)))}var me=n(4),se=n.n(me),de=(n(372),function(e,t){return setTimeout(t,e)});function fe(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),n=t[0],o=t[1],c=Object(a.useRef)(null),l=Object(a.useRef)(null),i=Object(a.useRef)(null),u=Object(a.useRef)(null),m=Object(a.useRef)(null),s=Object(a.useRef)(null),d=Object(a.useRef)(null),h=Object(a.useRef)(null),p=Object(a.useRef)(null),g=Object(a.useRef)(null),E=Object(a.useRef)(null);return n?r.a.createElement(f.a,{to:"/comments"}):r.a.createElement("div",{ref:s,className:"page full-height background-color-blue justify-centre color-white"},r.a.createElement("div",{className:"text-align-center font-family-comfortaa"},r.a.createElement("p",{ref:g,className:"margin-bottom transparent"},"Hi, ",r.a.createElement("span",{className:"transparent",ref:E},"my name is")),r.a.createElement("h1",{ref:d,className:"site-title margin-bottom-medium"},r.a.createElement("span",{ref:c},"f"),r.a.createElement("span",null,"erg"),r.a.createElement("span",{ref:l},"u"),r.a.createElement("span",{ref:i},"s"),r.a.createElement("span",{className:"transparent",ref:h},"\xa0"),r.a.createElement("span",{ref:u},"r"),r.a.createElement("span",null,"usto"),r.a.createElement("span",{ref:m},"n")),r.a.createElement("div",{className:"introduction-start-container text-align-center"},r.a.createElement("button",{ref:p,onClick:function(e){e&&e.preventDefault(),se()(p.current,{opacity:0}),se()(p.current,{display:"none"}),de(1e3,function(){se()(g.current,{opacity:1},{duration:600}),de(1e3,function(){se()(E.current,{opacity:1},{duration:600}),de(1e3,function(){se()(c.current,{color:"#000"}),de(400,function(){se()(i.current,{color:"#000"}),de(400,function(){se()(u.current,{color:"#000"}),de(400,function(){se()(m.current,{color:"#000"}),de(400,function(){se()(c.current,{opacity:0}),se()(i.current,{opacity:0}),se()(u.current,{opacity:0}),se()(m.current,{opacity:0}),de(400,function(){se()(c.current,{width:"0px"}),se()(l.current,{width:"0px"}),se()(i.current,{width:"0px"}),se()(h.current,{width:"0px"}),se()(u.current,{width:"0px"}),se()(m.current,{width:"0px"}),de(1e3,function(){se()(g.current,{opacity:0}),de(1200,function(){se()(d.current,{opacity:0}),se()(s.current,{opacity:0},{duration:1200}),de(600,function(){o(!0)})})})})})})})})})})})},className:"introduction-start-button button button--fade button--ghost"},"Start"))))}var be=n(146),he=n(144),pe=n(147),ge=function(e){function t(){return Object(h.a)(this,t),Object(be.a)(this,Object(he.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"page full-height justify-centre"},r.a.createElement("div",{className:"align-center comfortaa"},r.a.createElement("h1",null,"Not found"),r.a.createElement("h2",{className:"margin-vertical"},"404"),r.a.createElement(d.b,{to:"/",className:"color-black no-decoration button button--outline inline-block"},"Go back to safety")))}}]),t}(r.a.Component),Ee=function(){return localStorage.clear(),r.a.createElement(f.a,{to:"/"})},ve=function(){return Object(a.useEffect)(function(){document.body.classList.add("background-color-light-grey")},[]),r.a.createElement(d.a,null,r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/",exact:!0,component:fe}),r.a.createElement(f.b,{path:"/calendar",exact:!0,component:P}),r.a.createElement(f.b,{path:"/comments",exact:!0,component:ue}),r.a.createElement(f.b,{path:"/reset",exact:!0,component:Ee}),r.a.createElement(f.b,{component:ge})))};n(374),n(376),n(378);s.a.init();var ye=function(){return r.a.createElement(ve,null)};"ontouchstart"in document.documentElement||document.documentElement.classList.add("no-touch"),l.a.locale(u.a),c.a.render(r.a.createElement(ye,null),document.getElementById("root"))}},[[148,2,1]]]);
//# sourceMappingURL=main.16c78634.chunk.js.map