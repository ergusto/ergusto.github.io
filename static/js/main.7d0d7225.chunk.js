(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,n){},154:function(e,t,n){e.exports=n(421)},165:function(e,t,n){},170:function(e,t,n){},178:function(e,t,n){},308:function(e,t,n){},310:function(e,t,n){},312:function(e,t,n){},314:function(e,t,n){},316:function(e,t,n){},318:function(e,t,n){},320:function(e,t,n){},322:function(e,t,n){},406:function(e,t,n){},409:function(e,t,n){},421:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(143),c=n.n(o),l=n(427),i=n(153),u=n.n(i),s=n(44),m=n(88),d=n(89),f=n(144),h=(n(161),n(163),n(165),n(145)),b=n.n(h),g=n(19),p=n(43),E=n(8),y=n(3),v=n(146),N=n(147),O=function(e){return Object.prototype.toString.call(e)},j=function(e){return function(t,n){var a=e[n.type];return a?a(t,n.payload):new Error}},w=function(){return"_"+Math.random().toString(36).substr(2,9)},x=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],k=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],S=["January","February","March","April","May","June","July","August","September","October","November","December"],C=[31,28,31,30,31,30,31,31,30,31,30,31];var H,T=Array.apply(null,Array(24)).map(function(e,t){var n=t+":00";return 4===n.length&&(n="0"+n),n}),M=function(e){return parseInt(e.split(":")[0])},I=function(){function e(){Object(v.a)(this,e)}return Object(N.a)(e,[{key:"getMonth",value:function(e){var t=new Date,n=t.getDate(),a=t.getMonth(),r=t.getFullYear();e||(e=new Date);var o=e.getMonth(),c=e.getFullYear(),l=new Date(c,o,1).getDay(),i=o+1,u=c,s=o-1,m=c;o>=11&&(i=1,u+=1),0===o&&(s=11,m-=1);var d=new Date(u,i,1),f=new Date(m,s,1),h=C[o];1===o&&(c%4===0&&c%100!==0||c%400===0)&&(h=29);var b,g,p={};p.name=S[o],p.length=h,p.year=c,p.days=[],p.weeks=[],p.getNextMonth=this.getMonth.bind(this,d),p.getPreviousMonth=this.getMonth.bind(this,f);for(var E=1,y=0;y<9;y++){g=[];for(var v=0;v<=6;v++)b={},E<=h&&(y>0||v>=l)?(b.date=E,b.day=x[v],b.dayLabel=k[v],b.dayNo=v,b.month=S[o],b.monthNo=o,b.year=c,b.identifier=b.date+b.month+b.year,b.dateObj=new Date(b.year,b.monthNo,b.date),b.isToday=!1,b.date===n&&b.monthNo===a&&b.year===r&&(b.isToday=!0),p.days.push(b),g.push(b),E++):(b.date=null,b.empty=!0,g.push(b));if(p.weeks.push(g),E>h)break}return p}},{key:"weekdays",get:function(){return x}},{key:"weekdaysAbbr",get:function(){return k}},{key:"months",get:function(){return S}},{key:"hours",get:function(){return T}}]),e}(),z=function(e,t,n){var r=localStorage.getItem(e);"[object String]"===O(r)&&(r=JSON.parse(r));var o=Object(a.useReducer)(t,r||n),c=Object(y.a)(o,2),l=c[0],i=c[1];return Object(a.useEffect)(function(){if("[object Object]"===O(l)){var t=JSON.stringify(l);localStorage.setItem(e,t)}},[l]),[l,i]},R=n(20),D="ENTRY_CREATE",F=j((H={},Object(E.a)(H,D,function(e,t){var n=t.entry,a=n.startTime,r=n.endTime;return n.length=M(r)-M(a)+1,Object.assign({},e,{entries:[].concat([n],e.entries)})}),Object(E.a)(H,"ENTRY_EDIT",function(e,t){}),Object(E.a)(H,"ENTRY_DELETE",function(e,t){}),Object(E.a)(H,"ENTRY_RESET",function(e,t){}),H)),L=n(30),A=n(148),B=(n(170),"ontouchstart"in document.documentElement?"touchstart":"click");function _(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useState)(!1),o=Object(y.a)(n,2),c=o[0],l=o[1],i=Object(a.useState)(!1),u=Object(y.a)(i,2),s=u[0],m=u[1],d=Object(A.useMedia)({maxWidth:375}),f=function(){l(!1),m(!1)},h=function(n){e.current&&(e.current.contains(n.target)||t.current.contains(n.target)||f())},b=function(){document.body.removeEventListener(B,h)};Object(a.useEffect)(function(){c?document.body.addEventListener(B,h):b()},[c]),Object(a.useEffect)(function(){return function(){b()}},[]);var p="site-menu background-color-blue box-shadow";c&&(p+=" site-menu--open"),s&&(p+=" site-menu--hovered");var E=d?"block padding-left padding-top":"inline-block float-right",v=d?"block":"inline-block margin-right";return r.a.createElement("div",{className:p,onMouseOver:function(){m(!0)},onMouseOut:function(){m(!1)}},r.a.createElement("div",{ref:t,onClick:function(e){e&&e.preventDefault(),c?f():l(!0)},id:"dropDown",className:"site-menu-button cursor-pointer border-bottom-radius background-color-blue"},r.a.createElement("span",{className:"color-white"},r.a.createElement(L.a,{icon:"bars"}))),r.a.createElement("div",{ref:e,className:"site-menu-box padding-all font-family-raleway color-white"},r.a.createElement("h1",{className:"font-family-comfortaa inline-block font-size-bigger line-height-site-title margin-right-2 margin-left"},"ergusto"),r.a.createElement("ul",{className:E},r.a.createElement("li",{className:v},r.a.createElement(g.b,{className:"color-white no-decoration font-weight-semi-bold line-height-site-title",to:"/"},"Intro")),r.a.createElement("li",{className:v},r.a.createElement(g.b,{className:"color-white no-decoration font-weight-semi-bold line-height-site-title",to:"/calendar"},"Calendar")),r.a.createElement("li",{className:v},r.a.createElement(g.b,{className:"color-white no-decoration font-weight-semi-bold line-height-site-title",to:"/comments"},"Comments")))))}var P=Object(a.createContext)(null);function V(e){return r.a.createElement(P.Provider,{value:e},e.children)}var J=n(10),Y=n(24),q=n.n(Y),W=function(e){var t=e.entry,n={right:"16px",top:"8px",left:"96px",height:52*t.length-8+"px"};return r.a.createElement("div",{style:n,className:"background-color-blue absolute border-radius padding-all z-index-1 box-shadow-modal no-pointer-events"},r.a.createElement("p",{className:"color-white"},t.title))},G=(n(178),"ontouchstart"in document.documentElement?"touchstart":"click"),U=".day-detail";function X(e){var t,n,a,o,c=e.hour,l=e.entries,i=e.setHour,u=e.hoveredHour,s=e.setHoveredHour,m=e.unsetHoveredHour,d=e.clearSelection,f=e.startHour,h=e.endHour,b=function e(t){h||t.target.closest(U)||(d(),document.removeEventListener(G,e))},g="calendar-hour padding-horizontal border-radius-large border-bottom clearfix border-color-light-grey background-color-light-grey--on-hover cursor-pointer no-outline relative",p=M(c),E=f?M(f):null,y=h?M(h):null,v=u?M(u):null,N=!!f,O=!!h,j=!!u,w=N&&(j||O)&&v>=E||N&&O&&E<y,x=w?p===E:p===v,k=w?p===y:p===E,S=p===v;return N&&O?(t=p>=E&&p<=y,n=p===E&&p===y):N&&j?w?(t=p>=E&&p<=v,o=p>=E&&p===v):(N&&(j||O)&&v<=E||N&&O&&E>y)&&(t=p<=E&&p>=v,a=p<=E&&p===v):N&&S&&(t=!0,n=!0),g=q()(g,{"hour-selected":t,"hour-hovered":S,"hour-selected-start":x||a,"hour-selected-end":k||o,"hour-selected-single":n}),r.a.createElement("li",{onMouseOver:function(e){f&&!h&&s(c)},onMouseOut:function(e){m(c)},onClick:function(e){f||h||document.addEventListener(G,b),i(c)},className:g},r.a.createElement("div",{className:"padding-vertical float-left"},r.a.createElement("p",null,c)),l&&l.length?l.map(function(e){return r.a.createElement(W,{key:e.dayIdentifier,entry:e})}):null)}var K=n(9),Q=n(14),Z=n(31),$=(n(134),function(e){var t=e.field,n=e.className,o=e.form,c=o.touched,l=o.errors,i=(o.values,Object(K.a)(e,["field","className","form"])),u=t.onBlur,s=Object(K.a)(t,["onBlur"]),m=Object(a.useState)(!1),d=Object(y.a)(m,2),f=d[0],h=d[1];return r.a.createElement("div",{className:""},r.a.createElement("input",Object.assign({className:q()("calendar-form-field form-field color-dark-grey font-weight-medium line-height-copy font-size-medium max-width-100 min-width-100",n,{"calendar-form-field--closed":!f,"calendar-form-field--open":!!f,"calendar-form-field--error":!(!c[t.name]||!l[t.name])}),type:"text",onFocus:function(){return h(!0)},onBlur:function(e){h(!1),u(e)}},s,i)))}),ee=(n(308),function(e){var t=e.field,n=e.className,o=e.form,c=o.touched,l=o.errors,i=(o.values,o.setFieldValue),u=Object(K.a)(e,["field","className","form"]),s=t.onBlur,m=t.onChange,d=Object(K.a)(t,["onBlur","onChange"]),f=Object(a.useRef)(null),h=Object(a.useState)(!1),b=Object(y.a)(h,2),g=b[0],p=b[1],E=function(){return f.current.style.height="3.125rem"},v=function(){f.current.style.height="auto",f.current.style.height=f.current.scrollHeight+2+"px"},N=function(e){e.length?e.trim()?e.indexOf("\n")>=0?v():E():-1===e.indexOf("\n")?(i(t.name,""),E()):v():E()};return r.a.createElement("div",{className:""},r.a.createElement("textarea",Object.assign({className:q()("calendar-textarea calendar-form-field form-field color-dark-grey font-weight-medium line-height-copy font-size-medium max-width-100 min-width-100",n,{"calendar-form-field--closed calendar-textarea--closed":!g,"calendar-form-field--open calendar-textarea--open":!!g,"calendar-form-field--error calendar-textarea--error":!(!c[t.name]||!l[t.name])}),ref:f,type:"text",onFocus:function(){return p(!0)},onChange:function(e){N(e.target.value),m(e)},onBlur:function(e){N(e.target.value),p(!1),s(e)},rows:1},d,u)))}),te=(n(310),J.b.div({enter:{opacity:1},exit:{opacity:0}})),ne=function(e){var t=e.items,n=e.currentValue,o=e.onItemSelect,c=(e.select,Object(a.useRef)(null)),l=Object(a.useRef)(null);return Object(a.useEffect)(function(){if(c.current&&l.current){var e=l.current.offsetTop;c.current.scrollTop=e-20}}),r.a.createElement("ul",{ref:c,className:"select-list absolute background-color-white box-shadow-large border-radius-large"},t.map(function(e){var t=e===n,a="select-item block background-color-white color-muted-grey font-weight-medium cursor-pointer ".concat(t?"select-item--active":"");return r.a.createElement("li",{key:e,onClick:function(){return o(e)},ref:t?l:null,className:a},e)}))},ae=function(e){var t=e.field,n=(e.className,e.items),o=void 0===n?[]:n,c=e.form,l=(c.touched,c.errors,c.values),i=c.setFieldValue,u=e.onItemSelect,s=(Object(K.a)(e,["field","className","items","form","onItemSelect"]),Object(a.useRef)(null)),m=Object(a.useState)(!1),d=Object(y.a)(m,2),f=d[0],h=d[1],b=function e(t){s.current.contains(t.target)||(h(!1),document.body.removeEventListener("click",e))};return r.a.createElement("div",{ref:s,className:"select-field inline-block"},r.a.createElement("input",{type:"text",className:"select-input select-field__input display-none"}),r.a.createElement("div",{onClick:function(){h(!0),document.body.addEventListener("click",b)},className:"select-value color-muted-grey font-weight-medium cursor-pointer inline-block"},l[t.name]),r.a.createElement(J.a,{flipMove:!1},f?r.a.createElement(te,{key:"items-container"},r.a.createElement(ne,{onItemSelect:function(e){u(e),i(t.name,e),h(!1)},currentValue:l[t.name],items:o})):null))},re=(n(312),Z.object().shape({title:Z.string().required("required").max(80),description:Z.string().max(1200)})),oe=function(e){e.entry,e.day;var t=e.onCancel,n=e.startHour,o=e.setStartHour,c=e.endHour,l=e.setEndHour,i=e.errors,u=(e.touched,e.isSubmitting),s=e.setFieldValue,m=(Object(K.a)(e,["entry","day","onCancel","startHour","setStartHour","endHour","setEndHour","errors","touched","isSubmitting","setFieldValue"]),Object(a.useContext)(P).calendar);Object(a.useEffect)(function(){s("startTime",n)},[n]),Object(a.useEffect)(function(){s("endTime",c)},[c]);return r.a.createElement(Q.b,{autoComplete:"off",className:"calendar-form relative"},r.a.createElement("div",{className:"padding-all"},r.a.createElement("div",{className:"padding-bottom"},r.a.createElement(Q.a,{component:$,name:"title",placeholder:"Add Title"}),r.a.createElement(Q.a,{component:ee,name:"description",placeholder:"Add Description",className:"margin-top"}),r.a.createElement("div",{className:"padding-top"},r.a.createElement(Q.a,{onItemSelect:function(e){var t=M(c);M(e)<=t?o(e):(o(c),l(e))},items:m.hours,component:ae,name:"startTime"}),r.a.createElement("span",{className:"inline-block color-muted-grey font-weight-medium padding-horizontal-medium"},"to"),r.a.createElement(Q.a,{onItemSelect:function(e){var t=M(n);M(e)>=t?l(e):(o(e),l(n))},items:m.hours,component:ae,name:"endTime"}))),r.a.createElement("footer",{className:"clearfix"},r.a.createElement("button",{type:"submit",disabled:!u&&!!Object.keys(i).length,className:"button button--blue button--shift-on-hover button--shadow-on-hover float-right"},"Create event"),t?r.a.createElement("button",{onClick:t,type:"button",className:"button button--grey-ghost float-right font-weight-medium color-dark-grey margin-right-medium"},"Cancel"):null)))};function ce(e){var t=e.entry,n=e.day,o=e.onSubmit,c=e.onCancel,l=e.startHour,i=e.setStartHour,u=e.endHour,s=e.setEndHour,m=Object(a.useContext)(P).dispatch;return t||(t={title:"",description:"",startTime:l,endTime:u,length:null,dayIdentifier:n.identifier}),r.a.createElement("div",{className:"entry-form-wrap justify-centre absolute top padding-vertical-3 z-index-9"},r.a.createElement("div",{className:"entry-form-container relative background-color-white padding-top-small box-shadow-modal border-radius"},r.a.createElement(Q.c,{initialValues:t,validationSchema:re,onSubmit:function(e){m({type:D,payload:{entry:e}}),o&&o(e)},render:function(e){return r.a.createElement(oe,Object.assign({},e,{entry:t,day:n,startHour:l,setStartHour:i,endHour:u,setEndHour:s,onCancel:c}))}})))}n(314);var le=J.b.div({enter:{opacity:1},exit:{opacity:0}});function ie(e){var t=e.day,n=e.close,o=Object(a.useContext)(P),c=o.calendar,l=o.state.entries.filter(function(e){return e.dayIdentifier===t.identifier}),i=Object(a.useState)(null),u=Object(y.a)(i,2),s=u[0],m=u[1],d=Object(a.useState)(null),f=Object(y.a)(d,2),h=f[0],b=f[1],g=Object(a.useState)(null),p=Object(y.a)(g,2),E=p[0],v=p[1],N=Object(a.useState)(!1),O=Object(y.a)(N,2),j=O[0],w=O[1],x=function(){return[w,m,b,v].forEach(function(e){return e.call(null,null)})},k=function(e){return v(e)},S=function(){return v(null)},C=function(e){if(s){var t=M(s),n=M(e);n<t?(m(e),b(s)):b(e),w(!0)}else m(e),E||v(e)};return r.a.createElement("div",{className:"day-detail height-100 relative"},r.a.createElement("header",{className:"day-detail-header padding-top-small padding-bottom absolute top left right"},r.a.createElement("button",{onClick:function(){return n()},className:"day-detail-close line-height-header absolute cursor-pointer inline-block no-decoration padding-top-small padding-horizontal font-size-large color-dark-blue color-blue--on-hover font-weight-bold"},r.a.createElement(L.a,{icon:"times"})),r.a.createElement("h3",{className:"line-height-header color-dark-blue font-weight-semi-bold width-100 text-align-center"},t.date," ",t.month," ",t.year)),r.a.createElement("div",{className:"day-detail-body-wrapper height-100 relative"},r.a.createElement("div",{className:"day-detail-body padding-all height-100 overflow-y-scroll"},r.a.createElement("ul",{className:"relative"},c.hours.map(function(e){var t;return l.length&&(t=l.filter(function(t){return t.startTime===e})),r.a.createElement(X,{key:e,hour:e,setHour:C,startHour:s,endHour:h,hoveredHour:E,setHoveredHour:k,unsetHoveredHour:S,clearSelection:x,entries:t})}))),r.a.createElement(J.a,{flipMove:!1},j?r.a.createElement(le,{key:"entry-form-modal"},r.a.createElement(ce,{day:t,onCancel:x,onSubmit:function(e){return x()},startHour:s,setStartHour:m,endHour:h,setEndHour:b})):null)))}n(316);function ue(e){var t=e.day;return r.a.createElement("div",{className:"day-item min-height-100 border-radius-large padding-all-medium background-color-light-grey--on-hover"},r.a.createElement("p",{className:"font-size-small font-weight-semi-bold"},t.date))}n(318);var se={duration:500,ease:[.42,.69,.2,.99]},me=J.b.div({init:{position:"static",transition:se,flip:!0,width:"auto",height:"121px"},zoomed:{position:"absolute",transition:se,top:"0px",left:"0px",bottom:"0px",right:"0px",height:"auto",flip:!0}});function de(e){var t=e.day,n=Object(a.useRef)(null),o=Object(a.useState)(!1),c=Object(y.a)(o,2),l=c[0],i=c[1],u="calendar-day border-radius-large";if(t.empty)return u="".concat(u," calendar-day--empty"),r.a.createElement("div",{className:u},r.a.createElement("div",{className:"calendar-day-inner"}));t.isToday&&(u="".concat(u," calendar-day--is-today")),u="".concat(u," calendar-day--date"),u="".concat(u,l?" calendar-day--is-zoomed":" calendar-day--is-not-zoomed");return r.a.createElement("div",{onClick:function(e){l||i(!0)},className:u},r.a.createElement(me,{ref:n,pose:l?"zoomed":"init",className:"calendar-day-inner background-color-white border-radius-large"},l?r.a.createElement(ie,{close:function(){return i(!1)},day:t}):r.a.createElement(ue,{day:t})))}n(320);function fe(e){var t=e.week;return r.a.createElement("ul",{className:"calendar-week clearfix"},t.map(function(e,t){return r.a.createElement(de,{key:"".concat(e.date,"-").concat(e.day||t),day:e})}))}n(322);var he=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function be(){var e=Object(a.useContext)(P),t=e.month,n=e.setPreviousMonth,o=e.setNextMonth;return r.a.createElement("div",{className:"relative background-color-white border-radius-large box-shadow-large width-100 centered max-width-14"},r.a.createElement("header",{className:"relative padding-top-small line-height-header border-color-grey clearfix"},r.a.createElement("a",{href:"/previous",onClick:function(e){e.preventDefault(),n()},className:"calendar-previous-month absolute block no-decoration padding-top-small padding-horizontal font-size-large color-dark-blue color-blue--on-hover font-weight-bold"},r.a.createElement(L.a,{icon:"arrow-alt-left"})),r.a.createElement("h3",{className:"color-dark-blue width-100 text-align-center width-100 inline-block"},t.name," ",t.year),r.a.createElement("a",{href:"/next",onClick:function(e){e.preventDefault(),o()},className:"calendar-next-month absolute padding-horizontal no-decoration font-size-large padding-top-small color-dark-blue color-blue--on-hover font-weight-bold"},r.a.createElement(L.a,{icon:"arrow-alt-right"}))),r.a.createElement("header",{className:"padding-horizontal padding-top-medium"},r.a.createElement("ul",{className:"clearfix"},he.map(function(e){return r.a.createElement("li",{key:e,className:"day-header-item inline-block float-left font-weight-semi-bold padding-left-medium font-size-small color-dark-blue"},r.a.createElement("span",null,e))}))),r.a.createElement("div",{className:"padding-horizontal padding-bottom padding-top-medium"},r.a.createElement("ul",{className:"border-radius"},t.weeks.map(function(e,t){return r.a.createElement("li",{key:"week-".concat(t)},r.a.createElement(fe,{week:e}))}))))}var ge=function(){return{entries:[]}},pe=null;function Ee(){var e=z("ergusto:calendar",F,ge()),t=Object(y.a)(e,2),n=t[0],o=t[1],c=(pe||(pe=new I),pe),l=c.getMonth(),i=Object(a.useState)(l),u=Object(y.a)(i,2),s=u[0],m=u[1];return r.a.createElement("div",{className:"page full-height padding-top-4 padding-bottom-3 padding-horizontal justify-centre font-family-raleway"},r.a.createElement(_,null),r.a.createElement(V,{calendar:c,month:s,setPreviousMonth:function(){return m(s.getPreviousMonth())},setNextMonth:function(){return m(s.getNextMonth())},state:n,dispatch:o},r.a.createElement(be,null)))}var ye,ve=function(e){return Object(R.a)({text:"",parentId:null,username:"ergusto",date:new Date,id:w()},e)},Ne=function(){var e={comments:[]},t=w(),n=w();return e.comments.push(ve({text:"Hi there. I'm a programmer with an interest in user interface and user experience design. My name's Fergus Ruston.",parentId:null})),e.comments.push(ve({id:t,text:"This website is a playground I use to experiment with UX and development. It contains a number of projects I designed and built with React.",parentId:null})),e.comments.push(ve({id:n,text:"I'm also interested in Python, Django, NodeJS, Bash, API design, and various other languages, disciplines and technologies.",parentId:t})),e.comments.push(ve({text:"Most examples on this website are interactive, and use the Local Storage API to persist data between sessions. Try replying to or editing one of these comments. You can find some other things to play with by clicking the button in the top right.",parentId:n})),e},Oe="COMMENT_CREATE",je="COMMENT_EDIT",we="COMMENT_DELETE",xe="COMMENTS_RESET",ke=j((ye={},Object(E.a)(ye,xe,function(e,t){return Ne()}),Object(E.a)(ye,Oe,function(e,t){var n=t.comment;return Object.assign({},e,{comments:[].concat([n],e.comments)})}),Object(E.a)(ye,je,function(e,t){var n=t.comment;return Object.assign({},e,{comments:e.comments.map(function(e){return n.id===e.id?n:e})})}),Object(E.a)(ye,we,function(e,t){var n=t.comment,a=e.comments.filter(function(e){return e.id!==n.id&&e.parentId!==n.id});return Object.assign({},e,{comments:a})}),ye)),Se=Object(a.createContext)(null);function Ce(e){var t=e.state,n=e.dispatch;return r.a.createElement(Se.Provider,{value:{state:t,dispatch:n}},e.children)}var He=n(152),Te=n.n(He),Me=n(428),Ie=(n(406),function(e){var t=e.field,n=e.className,o=e.form,c=o.touched,l=o.errors,i=(o.values,o.setFieldValue,Object(K.a)(e,["field","className","form"])),u=t.onBlur,s=t.onChange,m=Object(K.a)(t,["onBlur","onChange"]),d=Object(a.useRef)(null),f=Object(a.useState)(!1),h=Object(y.a)(f,2),b=h[0],g=h[1],p=function(){d.current.style.height="auto",d.current.style.height=d.current.scrollHeight+2+"px"};return Object(a.useEffect)(function(){return p()}),r.a.createElement("div",{className:""},r.a.createElement("textarea",Object.assign({className:q()("comments-textarea comments-form-field form-field color-dark-grey line-height-copy font-size-medium max-width-100 min-width-100",n,{"comments-form-field--closed comments-textarea--closed":!b,"comments-form-field--open comments-textarea--open":!!b,"comments-form-field--error comments-textarea--error":!(!c[t.name]||!l[t.name])}),ref:d,type:"text",onFocus:function(){return g(!0)},onChange:function(e){p(),s(e)},onBlur:function(e){g(!1),u(e)},rows:2},m,i)))}),ze=J.b.div({enter:{height:"auto"},exit:{height:0}}),Re=Z.object().shape({text:Z.string().required("required")});function De(e){var t=e.title,n=e.comment,a=void 0===n?{}:n,o=e.onSubmit,c=e.onCancel;return r.a.createElement("div",{className:"background-color-white border border-color-grey border-radius overflow-hidden box-shadow font-family-raleway padding-bottom padding-horizontal padding-top-medium"},r.a.createElement("small",{className:"color-muted-grey inline-block font-weight-normal margin-left-small margin-bottom-medium margin-top-small"},t),r.a.createElement(Q.c,{initialValues:a,validationSchema:Re,onSubmit:o,render:function(e){var t=e.errors;e.validateForm;return r.a.createElement(Q.b,null,r.a.createElement(Q.a,{component:Ie,name:"text",className:"form-field line-height-copy font-size-medium max-width-100 min-width-100"}),r.a.createElement(J.a,{flipMove:!1},t.text?r.a.createElement(ze,{className:"overflow-hidden",key:"error-container"},r.a.createElement("p",{className:"font-size-small color-muted-grey margin-left-small margin-top-medium margin-bottom-small"},t.text)):null),r.a.createElement("button",{type:"submit",className:"button button--small button--outline color-muted-grey margin-top-medium"},"Submit"),r.a.createElement("button",{onClick:c,type:"button",className:"button button--small button--outline color-muted-grey margin-top-medium margin-left-medium"},"Cancel"))}}))}function Fe(e){var t=e.comment,n=e.onSuccess,o=e.onCancel,c=(e.actions,Object(a.useContext)(Se).dispatch);return r.a.createElement(De,{title:"reply",onSubmit:function(e){n(),c({type:Oe,payload:{comment:ve(Object(R.a)({},e,{parentId:t.id}))}})},onCancel:o})}function Le(e){var t=e.comment,n=e.onSuccess,o=e.onCancel,c=(e.actions,Object(a.useContext)(Se).dispatch);return r.a.createElement(De,{title:"edit",onSubmit:function(e){n(),c({type:je,payload:{comment:e}})},onCancel:o,comment:t})}var Ae=J.b.div({closed:{height:0},open:{height:"auto"}}),Be=function(e,t,n){return r.a.createElement("div",{className:"padding-top"},r.a.createElement(Le,{comment:e,onSuccess:t,onCancel:n}))},_e=function(e,t,n){return r.a.createElement("div",{className:"padding-top"},r.a.createElement(Fe,{comment:e,onSuccess:t,onCancel:n}))};var Pe=function(e){var t=e.comment,n=Object(a.useContext)(Se).dispatch,o=Object(a.useState)(!1),c=Object(y.a)(o,2),l=c[0],i=c[1],u=Object(a.useState)(!1),s=Object(y.a)(u,2),m=s[0],d=s[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"background-color-white border border-color-grey border-radius-large overflow-hidden box-shadow"},r.a.createElement("div",{className:"padding-horizontal-large padding-vertical"},r.a.createElement("small",{className:"float-right color-muted-grey margin-bottom-medium block"},r.a.createElement(Me.a,{date:new Date(t.date)})),r.a.createElement("small",{className:"color-muted-grey margin-bottom-medium block"},t.username),r.a.createElement("div",{className:"markdown-output line-height-copy font-size-medium color-black"},r.a.createElement(Te.a,{source:t.text}))),r.a.createElement("footer",{className:"box-shadow-inset border-top border-color-grey border-bottom-radius background-color-light-grey padding-vertical-small font-size-tiny padding-horizontal-large"},r.a.createElement("button",{onClick:function(e){i(!1),d(!m)},href:"#",className:"color-muted-grey color-black--on-hover cursor-pointer no-decoration margin-right"},"reply"),r.a.createElement("button",{onClick:function(e){d(!1),i(!l)},href:"#",className:"color-muted-grey color-black--on-hover cursor-pointer no-decoration margin-right"},"edit"),r.a.createElement("button",{onClick:function(e){n({type:we,payload:{comment:t}})},href:"#",className:"color-muted-grey color-black--on-hover cursor-pointer no-decoration"},"remove"))),r.a.createElement(Ae,{className:"overflow-hidden",pose:l?"open":"closed"},Be(t,function(){return i(!1)},function(){return i(!1)})),r.a.createElement(Ae,{className:"overflow-hidden",pose:m?"open":"closed"},_e(t,function(){return d(!1)},function(){return d(!1)})))};function Ve(e){var t=e.parentId,n=void 0===t?null:t,o=Object(a.useContext)(Se).state.comments.filter(function(e){return e.parentId===n});return r.a.createElement("div",{className:"max-width-9"},r.a.createElement("ul",null,o.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(Pe,{ListComponent:Ve,comment:e})),r.a.createElement("div",{className:"margin-left"},r.a.createElement(Ve,{parentId:e.id})))})))}function Je(){var e=z("ergusto:comments",ke,Ne()),t=Object(y.a)(e,2),n=t[0],a=t[1];return n.comments.filter(function(e){return null===e.parentId}).length||a({type:xe}),r.a.createElement("div",{className:"page font-family-raleway full-height justify-centre padding-horizontal padding-top-3 padding-bottom-2"},r.a.createElement(_,null),r.a.createElement(Ce,{state:n,dispatch:a},r.a.createElement(Ve,null)))}var Ye=n(4),qe=n.n(Ye),We=(n(409),function(e,t){return setTimeout(t,e)});function Ge(){var e=Object(a.useState)(!1),t=Object(y.a)(e,2),n=t[0],o=t[1],c=Object(a.useRef)(null),l=Object(a.useRef)(null),i=Object(a.useRef)(null),u=Object(a.useRef)(null),s=Object(a.useRef)(null),m=Object(a.useRef)(null),d=Object(a.useRef)(null),f=Object(a.useRef)(null),h=Object(a.useRef)(null),b=Object(a.useRef)(null),g=Object(a.useRef)(null);return n?r.a.createElement(p.a,{to:"/comments"}):r.a.createElement("div",{ref:m,className:"page full-height background-color-blue justify-centre color-white"},r.a.createElement("div",{className:"text-align-center font-family-comfortaa"},r.a.createElement("p",{ref:b,className:"margin-bottom transparent"},"Hi, ",r.a.createElement("span",{className:"transparent",ref:g},"my name is")),r.a.createElement("h1",{ref:d,className:"site-title margin-bottom-medium"},r.a.createElement("span",{ref:c},"f"),r.a.createElement("span",null,"erg"),r.a.createElement("span",{ref:l},"u"),r.a.createElement("span",{ref:i},"s"),r.a.createElement("span",{className:"transparent",ref:f},"\xa0"),r.a.createElement("span",{ref:u},"r"),r.a.createElement("span",null,"usto"),r.a.createElement("span",{ref:s},"n")),r.a.createElement("div",{className:"introduction-start-container text-align-center"},r.a.createElement("button",{ref:h,onClick:function(e){e&&e.preventDefault(),qe()(h.current,{opacity:0}),qe()(h.current,{display:"none"}),We(1e3,function(){qe()(b.current,{opacity:1},{duration:600}),We(1e3,function(){qe()(g.current,{opacity:1},{duration:600}),We(1e3,function(){qe()(c.current,{color:"#000"}),We(400,function(){qe()(i.current,{color:"#000"}),We(400,function(){qe()(u.current,{color:"#000"}),We(400,function(){qe()(s.current,{color:"#000"}),We(400,function(){qe()(c.current,{opacity:0}),qe()(i.current,{opacity:0}),qe()(u.current,{opacity:0}),qe()(s.current,{opacity:0}),We(400,function(){qe()(c.current,{width:"0px"}),qe()(l.current,{width:"0px"}),qe()(i.current,{width:"0px"}),qe()(f.current,{width:"0px"}),qe()(u.current,{width:"0px"}),qe()(s.current,{width:"0px"}),We(1e3,function(){qe()(b.current,{opacity:0}),We(1200,function(){qe()(d.current,{opacity:0}),qe()(m.current,{opacity:0},{duration:1200}),We(600,function(){o(!0)})})})})})})})})})})})},className:"introduction-start-button button button--fade button--ghost"},"Start"))))}function Ue(){return r.a.createElement("div",{className:"page full-height justify-centre"},r.a.createElement("div",{className:"align-center comfortaa"},r.a.createElement("h1",null,"Not found"),r.a.createElement("h2",{className:"margin-vertical"},"404"),r.a.createElement(g.b,{to:"/",className:"color-black no-decoration button button--outline inline-block"},"Go back to safety")))}var Xe=function(){return localStorage.clear(),r.a.createElement(p.a,{to:"/"})},Ke=function(){return Object(a.useEffect)(function(){document.body.classList.add("background-color-light-grey")},[]),r.a.createElement(g.a,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0,component:Ge}),r.a.createElement(p.b,{path:"/calendar",exact:!0,component:Ee}),r.a.createElement(p.b,{path:"/comments",exact:!0,component:Je}),r.a.createElement(p.b,{path:"/reset",exact:!0,component:Xe}),r.a.createElement(p.b,{component:Ue})))};b.a.init();var Qe=function(){return r.a.createElement(Ke,null)};Object(f.a)(window),l.a.locale(u.a),s.b.add(m.a,d.a,d.b,m.b),"ontouchstart"in document.documentElement||document.documentElement.classList.add("no-touch"),c.a.render(r.a.createElement(Qe,null),document.getElementById("root"))}},[[154,2,1]]]);
//# sourceMappingURL=main.7d0d7225.chunk.js.map