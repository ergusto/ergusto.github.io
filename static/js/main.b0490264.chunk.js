(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t){},150:function(e,t,n){e.exports=n(402)},159:function(e,t,n){},167:function(e,t,n){},169:function(e,t,n){},171:function(e,t,n){},383:function(e,t,n){},389:function(e,t,n){},402:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(138),c=n.n(o),l=n(408),i=n(148),u=n.n(i),m=n(38),s=n(139),d=n(84),f=n(140),b=n.n(f),h=n(17),p=n(7),g=n(10),E=n(6),y=n(141),v=n(142),w=function(e){return Object.prototype.toString.call(e)},N=function(e){return function(t,n){var a=e[n.type];return a?a(t,n.payload):new Error}},j=function(){return"_"+Math.random().toString(36).substr(2,9)},O=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],k=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],x=["January","February","March","April","May","June","July","August","September","October","November","December"],S=[31,28,31,30,31,30,31,31,30,31,30,31];var C=Array.apply(null,Array(24)).map(function(e,t){var n=t+":00";return 4===n.length&&(n="0"+n),n}),M=function(){function e(){Object(y.a)(this,e)}return Object(v.a)(e,[{key:"getMonth",value:function(e){var t=new Date,n=t.getDate(),a=t.getMonth(),r=t.getFullYear();e||(e=new Date);var o=e.getMonth(),c=e.getFullYear(),l=new Date(c,o,1).getDay(),i=o+1,u=c,m=o-1,s=c;o>=11&&(i=1,u+=1),0===o&&(m=11,s-=1);var d=new Date(u,i,1),f=new Date(s,m,1),b=S[o];1===o&&(c%4===0&&c%100!==0||c%400===0)&&(b=29);var h,p,g={};g.name=x[o],g.length=b,g.year=c,g.days=[],g.weeks=[],g.getNextMonth=this.getMonth.bind(this,d),g.getPreviousMonth=this.getMonth.bind(this,f);for(var E=1,y=0;y<9;y++){p=[];for(var v=0;v<=6;v++)h={},E<=b&&(y>0||v>=l)?(h.date=E,h.day=O[v],h.dayLabel=k[v],h.dayNo=v,h.month=x[o],h.monthNo=o,h.year=c,h.identifier=h.date+h.month+h.year,h.dateObj=new Date(h.year,h.monthNo,h.date),h.isToday=!1,h.date===n&&h.monthNo===a&&h.year===r&&(h.isToday=!0),g.days.push(h),p.push(h),E++):(h.date=null,h.empty=!0,p.push(h));if(g.weeks.push(p),E>b)break}return g}},{key:"weekdays",get:function(){return O}},{key:"weekdaysAbbr",get:function(){return k}},{key:"months",get:function(){return x}},{key:"hours",get:function(){return C}}]),e}(),I=function(e,t,n){var r=localStorage.getItem(e);"[object String]"===w(r)&&(r=JSON.parse(r));var o=Object(a.useReducer)(t,r||n),c=Object(E.a)(o,2),l=c[0],i=c[1];return Object(a.useEffect)(function(){if("[object Object]"===w(l)){var t=JSON.stringify(l);localStorage.setItem(e,t)}},[l]),[l,i]},T=n(18),D=n(143),R=N(Object(g.a)({},D.SET_ACTIVE_DAY,function(e,t){})),z=n(39);n(159);function A(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useState)(!1),o=Object(E.a)(n,2),c=o[0],l=o[1],i=Object(a.useState)(!1),u=Object(E.a)(i,2),m=u[0],s=u[1],d=function(){l(!1),s(!1)},f=function(n){e.current?e.current.contains(n.target)||t.current.contains(n.target)||d():console.log("No dropdown.current")},b=function(){document.body.removeEventListener("click",f)};Object(a.useEffect)(function(){c?document.body.addEventListener("click",f):b()},[c]),Object(a.useEffect)(function(){return function(){b()}},[]);var p="site-menu background-color-blue";return c&&(p+=" site-menu--open"),m&&(p+=" site-menu--hovered"),r.a.createElement("div",{className:p,onMouseOver:function(){s(!0)},onMouseOut:function(){s(!1)}},r.a.createElement("div",{ref:t,onClick:function(e){e&&e.preventDefault(),c?d():l(!0)},id:"dropDown",className:"site-menu-button cursor-pointer border-bottom-radius background-color-blue"},r.a.createElement("span",{className:"color-white"},r.a.createElement(z.a,{icon:"bars"}))),r.a.createElement("div",{ref:e,className:"site-menu-box padding-all font-family-raleway color-white"},r.a.createElement("h1",{className:"font-family-comfortaa inline-block font-size-bigger line-height-site-title margin-right-2 margin-left"},"ergusto"),r.a.createElement("ul",{className:"inline-block float-right"},r.a.createElement("li",{className:"inline-block margin-right"},r.a.createElement(h.b,{className:"color-white no-decoration font-weight-semi-bold line-height-site-title",to:"/"},"Intro")),r.a.createElement("li",{className:"inline-block margin-right"},r.a.createElement(h.b,{className:"color-white no-decoration font-weight-semi-bold line-height-site-title",to:"/calendar"},"Calendar")),r.a.createElement("li",{className:"inline-block margin-right"},r.a.createElement(h.b,{className:"color-white no-decoration font-weight-semi-bold line-height-site-title",to:"/comments"},"Comments")))))}var P=Object(a.createContext)(null);function F(e){return r.a.createElement(P.Provider,{value:e},e.children)}n(167);function J(e){var t=e.day,n="calendar-day border-radius-large";return t.empty?(n="".concat(n," calendar-day--empty"),r.a.createElement("div",{className:n})):(t.isToday&&(n="".concat(n," calendar-day--is-today")),n="".concat(n," calendar-day--date background-color-white"),r.a.createElement("div",{className:n},r.a.createElement("p",{className:"font-size-small font-weight-semi-bold"},t.date)))}n(169);function L(e){var t=e.week;return r.a.createElement("ul",{className:"calendar-week clearfix"},t.map(function(e,t){return r.a.createElement(J,{key:"".concat(e.date,"-").concat(e.day||t),day:e})}))}n(171);var _=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Y(){var e=Object(a.useContext)(P),t=e.month,n=e.setPreviousMonth,o=e.setNextMonth;return r.a.createElement("div",{className:"background-color-white border-radius-large box-shadow-large width-100 centered max-width-14"},r.a.createElement("header",{className:"relative calendar-header border-color-grey clearfix"},r.a.createElement("a",{href:"/previous",onClick:function(e){e.preventDefault(),n()},className:"calendar-previous-month absolute block no-decoration padding-top-small padding-horizontal font-size-large color-dark-blue color-blue--on-hover font-weight-bold"},r.a.createElement(z.a,{icon:"arrow-alt-left"})),r.a.createElement("h3",{className:"color-dark-blue width-100 text-align-center width-100 inline-block"},t.name," ",t.year),r.a.createElement("a",{href:"/next",onClick:function(e){e.preventDefault(),o()},className:"calendar-next-month absolute right padding-horizontal no-decoration font-size-large padding-top-small color-dark-blue color-blue--on-hover font-weight-bold"},r.a.createElement(z.a,{icon:"arrow-alt-right"}))),r.a.createElement("header",{className:"padding-horizontal padding-top-medium"},r.a.createElement("ul",{className:"clearfix"},_.map(function(e){return r.a.createElement("li",{key:e,className:"day-header-item inline-block float-left font-weight-semi-bold padding-left-medium font-size-small color-dark-blue"},e)}))),r.a.createElement("div",{className:"padding-horizontal padding-bottom padding-top-medium"},r.a.createElement("ul",{className:"border-radius"},t.weeks.map(function(e,t){return r.a.createElement("li",{key:"week-".concat(t)},r.a.createElement(L,{week:e}))}))))}var W=function(){return{}},q=null;function B(){var e=I("ergusto:calendar",R,W()),t=Object(E.a)(e,2),n=t[0],o=t[1],c=(q||(q=new M),q),l=c.getMonth(),i=Object(a.useState)(l),u=Object(E.a)(i,2),m=u[0],s=u[1];return r.a.createElement("div",{className:"page full-height padding-vertical-3 justify-centre font-family-raleway"},r.a.createElement(A,null),r.a.createElement(F,{calendar:c,month:m,setPreviousMonth:function(){return s(m.getPreviousMonth())},setNextMonth:function(){return s(m.getNextMonth())},state:n,dispatch:o},r.a.createElement(Y,null)))}var H,V=function(e){return Object(T.a)({text:"",parentId:null,username:"ergusto",date:new Date,id:j()},e)},G=function(){var e={comments:[]},t=j(),n=j(),a=j();return e.comments.push(V({text:"Hi. I'm a programmer with an interest in user interface and user experience design. My name's Fergus Ruston.",parentId:null})),e.comments.push(V({id:t,text:"This website is a playground I use to experiment with UX and development. It contains a number of projects I designed and built with React and Redux.",parentId:null})),e.comments.push(V({id:n,text:"I'm also interested in Python, Django, NodeJS, Bash, API design, and various other languages, disciplines and technologies. You can see some of my other projects [here](http://www.github.com/ergusto).",parentId:t})),e.comments.push(V({id:a,text:"Most examples on this website are interactive, and use the Local Storage API to persist data between sessions. Try replying to or editing one of these comments.",parentId:n})),e.comments.push(V({text:"You can find some other things to play with by clicking the button in the top right.",parentId:a})),e},U="COMMENT_CREATE",X="COMMENT_EDIT",K="COMMENT_DELETE",Q="COMMENTS_RESET",Z=N((H={},Object(g.a)(H,Q,function(e,t){return G()}),Object(g.a)(H,U,function(e,t){var n=t.comment;return Object.assign({},e,{comments:[].concat([n],e.comments)})}),Object(g.a)(H,X,function(e,t){var n=t.comment;return Object.assign({},e,{comments:e.comments.map(function(e){return n.id===e.id?n:e})})}),Object(g.a)(H,K,function(e,t){var n=t.comment,a=e.comments.filter(function(e){return e.id!==n.id&&e.parentId!==n.id});return Object.assign({},e,{comments:a})}),H)),$=Object(a.createContext)(null);function ee(e){var t=e.state,n=e.dispatch;return r.a.createElement($.Provider,{value:{state:t,dispatch:n}},e.children)}var te=n(149),ne=n(145),ae=n.n(ne),re=n(409),oe=n(56),ce=n(87),le=ce.object().shape({text:ce.string().required("required")});function ie(e){var t=e.title,n=e.comment,a=void 0===n?{}:n,o=e.onSubmit,c=e.onCancel;return r.a.createElement("div",{className:"background-color-white border border-color-grey border-radius overflow-hidden box-shadow font-family-raleway padding-bottom padding-horizontal padding-top-medium"},r.a.createElement("small",{className:"color-muted-grey inline-block font-weight-normal margin-bottom-medium margin-top-small"},t),r.a.createElement(oe.c,{initialValues:a,validationSchema:le,onSubmit:o,render:function(e){var t=e.errors;e.validateForm;return r.a.createElement(oe.b,null,r.a.createElement(oe.a,{component:"textarea",name:"text",className:"form-field line-height-copy font-size-medium max-width-100 min-width-100"}),t.text?r.a.createElement("p",{className:"font-size-small color-muted-grey margin-top-medium margin-bottom-small"},t.text):null,r.a.createElement("button",{type:"submit",className:"button button--small button--outline color-muted-grey margin-top-medium"},"Submit"),r.a.createElement("button",{onClick:c,type:"button",className:"button button--small button--outline color-muted-grey margin-top-medium margin-left-medium"},"Cancel"))}}))}function ue(e){var t=e.comment,n=e.onSuccess,o=e.onCancel,c=(e.actions,Object(a.useContext)($).dispatch);return r.a.createElement(ie,{title:"reply",onSubmit:function(e){n(),c({type:U,payload:{comment:V(Object(T.a)({},e,{parentId:t.id}))}})},onCancel:o})}function me(e){var t=e.comment,n=e.onSuccess,o=e.onCancel,c=(e.actions,Object(a.useContext)($).dispatch);return r.a.createElement(ie,{title:"edit",onSubmit:function(e){n(),c({type:X,payload:{comment:e}})},onCancel:o,comment:t})}var se=te.a.div({closed:{height:0},open:{height:"auto"}}),de=function(e,t,n){return r.a.createElement("div",{className:"padding-top"},r.a.createElement(me,{comment:e,onSuccess:t,onCancel:n}))},fe=function(e,t,n){return r.a.createElement("div",{className:"padding-top"},r.a.createElement(ue,{comment:e,onSuccess:t,onCancel:n}))};var be=function(e){var t=e.comment,n=Object(a.useContext)($).dispatch,o=Object(a.useState)(!1),c=Object(E.a)(o,2),l=c[0],i=c[1],u=Object(a.useState)(!1),m=Object(E.a)(u,2),s=m[0],d=m[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"background-color-white border border-color-grey border-radius overflow-hidden box-shadow"},r.a.createElement("div",{className:"padding-horizontal-large padding-vertical"},r.a.createElement("small",{className:"float-right color-muted-grey margin-bottom-medium block"},r.a.createElement(re.a,{date:new Date(t.date)})),r.a.createElement("small",{className:"color-muted-grey margin-bottom-medium block"},t.username),r.a.createElement("div",{className:"line-height-copy font-size-medium color-black"},r.a.createElement(ae.a,{source:t.text}))),r.a.createElement("footer",{className:"box-shadow-inset border-top border-color-grey border-bottom-radius background-color-light-grey padding-vertical-small font-size-tiny padding-horizontal-large"},r.a.createElement("button",{onClick:function(e){i(!1),d(!s)},href:"#",className:"color-muted-grey color-black--on-hover cursor-pointer no-decoration margin-right"},"reply"),r.a.createElement("button",{onClick:function(e){d(!1),i(!l)},href:"#",className:"color-muted-grey color-black--on-hover cursor-pointer no-decoration margin-right"},"edit"),r.a.createElement("button",{onClick:function(e){n({type:K,payload:{comment:t}})},href:"#",className:"color-muted-grey color-black--on-hover cursor-pointer no-decoration"},"remove"))),r.a.createElement(se,{className:"overflow-hidden",pose:l?"open":"closed"},de(t,function(){return i(!1)},function(){return i(!1)})),r.a.createElement(se,{className:"overflow-hidden",pose:s?"open":"closed"},fe(t,function(){return d(!1)},function(){return d(!1)})))};function he(e){var t=e.parentId,n=void 0===t?null:t,o=Object(a.useContext)($).state.comments.filter(function(e){return e.parentId===n});return r.a.createElement("div",{className:"max-width-9"},r.a.createElement("ul",null,o.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(be,{ListComponent:he,comment:e})),r.a.createElement("div",{className:"margin-left"},r.a.createElement(he,{parentId:e.id})))})))}function pe(){var e=I("ergusto:comments",Z,G()),t=Object(E.a)(e,2),n=t[0],a=t[1];return n.comments.filter(function(e){return null===e.parentId}).length||a({type:Q}),r.a.createElement("div",{className:"page font-family-raleway full-height justify-centre padding-horizontal padding-vertical-3"},r.a.createElement(A,null),r.a.createElement(ee,{state:n,dispatch:a},r.a.createElement(he,null)))}var ge=n(3),Ee=n.n(ge),ye=(n(383),function(e,t){return setTimeout(t,e)});function ve(){var e=Object(a.useState)(!1),t=Object(E.a)(e,2),n=t[0],o=t[1],c=Object(a.useRef)(null),l=Object(a.useRef)(null),i=Object(a.useRef)(null),u=Object(a.useRef)(null),m=Object(a.useRef)(null),s=Object(a.useRef)(null),d=Object(a.useRef)(null),f=Object(a.useRef)(null),b=Object(a.useRef)(null),h=Object(a.useRef)(null),g=Object(a.useRef)(null);return n?r.a.createElement(p.a,{to:"/comments"}):r.a.createElement("div",{ref:s,className:"page full-height background-color-blue justify-centre color-white"},r.a.createElement("div",{className:"text-align-center font-family-comfortaa"},r.a.createElement("p",{ref:h,className:"margin-bottom transparent"},"Hi, ",r.a.createElement("span",{className:"transparent",ref:g},"my name is")),r.a.createElement("h1",{ref:d,className:"site-title margin-bottom-medium"},r.a.createElement("span",{ref:c},"f"),r.a.createElement("span",null,"erg"),r.a.createElement("span",{ref:l},"u"),r.a.createElement("span",{ref:i},"s"),r.a.createElement("span",{className:"transparent",ref:f},"\xa0"),r.a.createElement("span",{ref:u},"r"),r.a.createElement("span",null,"usto"),r.a.createElement("span",{ref:m},"n")),r.a.createElement("div",{className:"introduction-start-container text-align-center"},r.a.createElement("button",{ref:b,onClick:function(e){e&&e.preventDefault(),Ee()(b.current,{opacity:0}),Ee()(b.current,{display:"none"}),ye(1e3,function(){Ee()(h.current,{opacity:1},{duration:600}),ye(1e3,function(){Ee()(g.current,{opacity:1},{duration:600}),ye(1e3,function(){Ee()(c.current,{color:"#000"}),ye(400,function(){Ee()(i.current,{color:"#000"}),ye(400,function(){Ee()(u.current,{color:"#000"}),ye(400,function(){Ee()(m.current,{color:"#000"}),ye(400,function(){Ee()(c.current,{opacity:0}),Ee()(i.current,{opacity:0}),Ee()(u.current,{opacity:0}),Ee()(m.current,{opacity:0}),ye(400,function(){Ee()(c.current,{width:"0px"}),Ee()(l.current,{width:"0px"}),Ee()(i.current,{width:"0px"}),Ee()(f.current,{width:"0px"}),Ee()(u.current,{width:"0px"}),Ee()(m.current,{width:"0px"}),ye(1e3,function(){Ee()(h.current,{opacity:0}),ye(1200,function(){Ee()(d.current,{opacity:0}),Ee()(s.current,{opacity:0},{duration:1200}),ye(600,function(){o(!0)})})})})})})})})})})})},className:"introduction-start-button button button--fade button--ghost"},"Start"))))}function we(){return r.a.createElement("div",{className:"page full-height justify-centre"},r.a.createElement("div",{className:"align-center comfortaa"},r.a.createElement("h1",null,"Not found"),r.a.createElement("h2",{className:"margin-vertical"},"404"),r.a.createElement(h.b,{to:"/",className:"color-black no-decoration button button--outline inline-block"},"Go back to safety")))}var Ne=function(){return localStorage.clear(),r.a.createElement(p.a,{to:"/"})},je=function(){return Object(a.useEffect)(function(){document.body.classList.add("background-color-light-grey")},[]),r.a.createElement(h.a,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0,component:ve}),r.a.createElement(p.b,{path:"/calendar",exact:!0,component:B}),r.a.createElement(p.b,{path:"/comments",exact:!0,component:pe}),r.a.createElement(p.b,{path:"/reset",exact:!0,component:Ne}),r.a.createElement(p.b,{component:we})))};n(385),n(387),n(389);b.a.init();var Oe=function(){return r.a.createElement(je,null)};m.b.add(s.a,d.a,d.b),"ontouchstart"in document.documentElement||document.documentElement.classList.add("no-touch"),l.a.locale(u.a),c.a.render(r.a.createElement(Oe,null),document.getElementById("root"))}},[[150,2,1]]]);
//# sourceMappingURL=main.b0490264.chunk.js.map