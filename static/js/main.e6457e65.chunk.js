(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{151:function(e,t,n){e.exports=n(400)},158:function(e,t){},161:function(e,t,n){},169:function(e,t,n){},171:function(e,t,n){},173:function(e,t,n){},381:function(e,t,n){},387:function(e,t,n){},400:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(138),c=n.n(o),l=n(406),i=n(147),u=n.n(i),m=n(38),s=n(139),d=n(140),f=n.n(d),b=n(16),h=n(37),p=n(6),g=n(52),E=n(53),y=function(e){return Object.prototype.toString.call(e)},v=function(e){return function(t,n){var a=e[n.type];return a?a(t,n.payload):new Error}},w=function(){return"_"+Math.random().toString(36).substr(2,9)},N=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],j=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],O=["January","February","March","April","May","June","July","August","September","October","November","December"],k=[31,28,31,30,31,30,31,31,30,31,30,31];var x=Array.apply(null,Array(24)).map(function(e,t){var n=t+":00";return 4===n.length&&(n="0"+n),n}),S=function(){function e(){Object(g.a)(this,e)}return Object(E.a)(e,[{key:"getMonth",value:function(e){var t=new Date,n=t.getDate(),a=t.getMonth(),r=t.getFullYear();e||(e=new Date);var o=e.getMonth(),c=e.getFullYear(),l=new Date(c,o,1).getDay(),i=o+1,u=c,m=o-1,s=c;o>=11&&(i=1,u+=1),0===o&&(m=11,s-=1);var d=new Date(u,i,1),f=new Date(s,m,1),b=k[o];1===o&&(c%4===0&&c%100!==0||c%400===0)&&(b=29);var h,p,g={};g.name=O[o],g.length=b,g.year=c,g.days=[],g.weeks=[],g.getNextMonth=this.getMonth.bind(this,d),g.getPreviousMonth=this.getMonth.bind(this,f);for(var E=1,y=0;y<9;y++){p=[];for(var v=0;v<=6;v++)h={},E<=b&&(y>0||v>=l)?(h.date=E,h.day=N[v],h.dayLabel=j[v],h.dayNo=v,h.month=O[o],h.monthNo=o,h.year=c,h.identifier=h.date+h.month+h.year,h.dateObj=new Date(h.year,h.monthNo,h.date),h.isToday=!1,h.date===n&&h.monthNo===a&&h.year===r&&(h.isToday=!0),g.days.push(h),p.push(h),E++):(h.date=null,h.empty=!0,p.push(h));if(g.weeks.push(p),E>b)break}return g}},{key:"weekdays",get:function(){return N}},{key:"weekdaysAbbr",get:function(){return j}},{key:"months",get:function(){return O}},{key:"hours",get:function(){return x}}]),e}(),C=function(e,t,n){var r=localStorage.getItem(e);"[object String]"===y(r)&&(r=JSON.parse(r));var o=Object(a.useReducer)(t,r||n),c=Object(p.a)(o,2),l=c[0],i=c[1];return Object(a.useEffect)(function(){if("[object Object]"===y(l)){var t=JSON.stringify(l);localStorage.setItem(e,t)}},[l]),[l,i]},M=n(14),I=n(17),D=(n(158),v({})),R=n(141);n(161);function T(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useState)(!1),o=Object(p.a)(n,2),c=o[0],l=o[1],i=Object(a.useState)(!1),u=Object(p.a)(i,2),m=u[0],s=u[1],d=function(){l(!1),s(!1)},f=function(n){e.current?e.current.contains(n.target)||t.current.contains(n.target)||d():console.log("No dropdown.current")},h=function(){document.body.removeEventListener("click",f)};Object(a.useEffect)(function(){c?document.body.addEventListener("click",f):h()},[c]),Object(a.useEffect)(function(){return function(){h()}},[]);var g="menu box-shadow-large background-color-blue";return c&&(g+=" menu--open"),m&&(g+=" menu--hovered"),r.a.createElement("div",{className:g,onMouseOver:function(){s(!0)},onMouseOut:function(){s(!1)}},r.a.createElement("div",{ref:t,onClick:function(e){e&&e.preventDefault(),c?d():l(!0)},id:"dropDown",className:"menu-button cursor-pointer border-bottom-radius background-color-blue"},r.a.createElement("span",{className:"color-white"},r.a.createElement(R.a,{icon:"bars"}))),r.a.createElement("div",{ref:e,className:"menu-box padding-all font-family-raleway color-white"},r.a.createElement("h1",{className:"font-family-comfortaa inline-block font-size-bigger line-height-site-title margin-right-2 margin-left"},"ergusto"),r.a.createElement("ul",{className:"inline-block float-right"},r.a.createElement("li",{className:"inline-block margin-right"},r.a.createElement(b.b,{className:"color-white no-decoration font-weight-semi-bold line-height-site-title",to:"/"},"Intro")),r.a.createElement("li",{className:"inline-block margin-right"},r.a.createElement(b.b,{className:"color-white no-decoration font-weight-semi-bold line-height-site-title",to:"/calendar"},"Calendar")),r.a.createElement("li",{className:"inline-block margin-right"},r.a.createElement(b.b,{className:"color-white no-decoration font-weight-semi-bold line-height-site-title",to:"/comments"},"Comments")))))}var z=Object(a.createContext)(null);function A(e){var t=e.calendar,n=e.state,a=e.dispatch;return r.a.createElement(z.Provider,{value:{calendar:t,state:n,dispatch:a}},e.children)}n(169);function J(e){var t=e.day,n="calendar-day";return t.empty?(n="".concat(n," calendar-day--empty"),r.a.createElement("div",{className:n})):(n="".concat(n," calendar-day--date"),r.a.createElement("div",{className:n},r.a.createElement("p",{className:"font-size-small font-weight-semi-bold"},t.day," ",t.date)))}n(171);function L(e){var t=e.week;return r.a.createElement("ul",{className:"calendar-week clearfix"},t.map(function(e,t){return r.a.createElement(J,{key:"".concat(e.date,"-").concat(e.day||t),day:e})}))}n(173);function P(){var e=Object(a.useContext)(z).calendar.getMonth(),t=Object(a.useState)(e),n=Object(p.a)(t,2),o=n[0],c=n[1];return console.log(o.weeks),r.a.createElement("div",{className:"background-color-white border-all border-color-grey border-radius box-shadow width-100 centered max-width-14"},r.a.createElement("header",{className:"calendar-header border-color-grey clearfix"},r.a.createElement("div",{className:"float-left border-color-grey"},r.a.createElement("a",{href:"/previous",onClick:function(e){e.preventDefault(),function(){var e=o.getPreviousMonth();c(e)}()},className:"block no-decoration padding-horizontal font-size-small color-dark-blue color-blue--on-hover font-weight-bold"},"Previous")),r.a.createElement("div",{className:"float-left"},r.a.createElement("h3",{className:"margin-left color-dark-blue text-align-center width-100 inline-block"},o.name," ",o.year)),r.a.createElement("div",{className:"float-right block border-color-grey"},r.a.createElement("a",{href:"/next",onClick:function(e){e.preventDefault(),function(){var e=o.getNextMonth();c(e)}()},className:"padding-horizontal no-decoration font-size-small color-dark-blue color-blue--on-hover font-weight-bold"},"Next"))),r.a.createElement("div",{className:"padding-all"},r.a.createElement("ul",null,o.weeks.map(function(e,t){return r.a.createElement("li",{key:"week-".concat(t)},r.a.createElement(L,{week:e}))}))))}var F=function(){return{}},_=null;function Y(){var e=C("ergusto:calendar",D,F()),t=Object(p.a)(e,2),n=t[0],a=t[1],o=(_||(_=new S),_);return r.a.createElement("div",{className:"page full-height padding-vertical-4 font-family-raleway"},r.a.createElement(T,null),r.a.createElement(A,{calendar:o,state:n,dispatch:a},r.a.createElement(P,null)))}var q,B=function(e){return Object(I.a)({text:"",parentId:null,username:"ergusto",date:new Date,id:w()},e)},H=function(){var e={comments:[]},t=w(),n=w();return e.comments.push(B({text:"Hi. I'm a programmer with an interest in user interface and user experience design. My name's Fergus Ruston.",parentId:null})),e.comments.push(B({id:t,text:"This website is a playground I use to experiment with UX and development. It contains a number of projects I designed and built with React and Redux.",parentId:null})),e.comments.push(B({text:"I'm also interested in Python, Django, NodeJS, Bash, API design, and various other languages, disciplines and technologies. You can see some of my other projects [here](http://www.github.com/ergusto).",parentId:t,id:n})),e.comments.push(B({text:"Most examples on this website are interactive, and use the Local Storage API to persist data between sessions. Try replying to or editing one of these comments. ",parentId:n})),e},W="COMMENT_CREATE",G="COMMENT_EDIT",U="COMMENT_DELETE",V="COMMENTS_RESET",X=v((q={},Object(M.a)(q,V,function(e,t){return H()}),Object(M.a)(q,W,function(e,t){var n=t.comment;return Object.assign({},e,{comments:[].concat([n],e.comments)})}),Object(M.a)(q,G,function(e,t){var n=t.comment;return Object.assign({},e,{comments:e.comments.map(function(e){return n.id===e.id?n:e})})}),Object(M.a)(q,U,function(e,t){var n=t.comment,a=e.comments.filter(function(e){return e.id!==n.id&&e.parentId!==n.id});return Object.assign({},e,{comments:a})}),q)),K=Object(a.createContext)(null);function Q(e){var t=e.state,n=e.dispatch;return r.a.createElement(K.Provider,{value:{state:t,dispatch:n}},e.children)}var Z=n(148),$=n(142),ee=n.n($),te=n(407),ne=n(58),ae=n(86),re=ae.object().shape({text:ae.string().required("required")});function oe(e){var t=e.title,n=e.comment,a=void 0===n?{}:n,o=e.onSubmit,c=e.onCancel;return r.a.createElement("div",{className:"background-color-white border border-color-grey border-radius overflow-hidden box-shadow font-family-raleway padding-bottom padding-horizontal padding-top-medium"},r.a.createElement("small",{className:"color-muted-grey inline-block font-weight-normal margin-bottom-medium margin-top-small"},t),r.a.createElement(ne.c,{initialValues:a,validationSchema:re,onSubmit:o,render:function(e){var t=e.errors;e.validateForm;return r.a.createElement(ne.b,null,r.a.createElement(ne.a,{component:"textarea",name:"text",className:"form-field line-height-copy font-size-medium max-width-100 min-width-100"}),t.text?r.a.createElement("p",{className:"font-size-small color-muted-grey margin-top-medium margin-bottom-small"},t.text):null,r.a.createElement("button",{type:"submit",className:"button button--small button--outline color-muted-grey margin-top-medium"},"Submit"),r.a.createElement("button",{onClick:c,type:"button",className:"button button--small button--outline color-muted-grey margin-top-medium margin-left-medium"},"Cancel"))}}))}function ce(e){var t=e.comment,n=e.onSuccess,o=e.onCancel,c=(e.actions,Object(a.useContext)(K).dispatch);return r.a.createElement(oe,{title:"reply",onSubmit:function(e){n(),c({type:W,payload:{comment:B(Object(I.a)({},e,{parentId:t.id}))}})},onCancel:o})}function le(e){var t=e.comment,n=e.onSuccess,o=e.onCancel,c=(e.actions,Object(a.useContext)(K).dispatch);return r.a.createElement(oe,{title:"edit",onSubmit:function(e){n(),c({type:G,payload:{comment:e}})},onCancel:o,comment:t})}var ie=Z.a.div({closed:{height:0},open:{height:"auto"}}),ue=function(e,t,n){return r.a.createElement("div",{className:"padding-top"},r.a.createElement(le,{comment:e,onSuccess:t,onCancel:n}))},me=function(e,t,n){return r.a.createElement("div",{className:"padding-top"},r.a.createElement(ce,{comment:e,onSuccess:t,onCancel:n}))};var se=function(e){var t=e.comment,n=Object(a.useContext)(K).dispatch,o=Object(a.useState)(!1),c=Object(p.a)(o,2),l=c[0],i=c[1],u=Object(a.useState)(!1),m=Object(p.a)(u,2),s=m[0],d=m[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"background-color-white border border-color-grey border-radius overflow-hidden box-shadow"},r.a.createElement("div",{className:"padding-horizontal-large padding-vertical"},r.a.createElement("small",{className:"float-right color-muted-grey margin-bottom-medium block"},r.a.createElement(te.a,{date:new Date(t.date)})),r.a.createElement("small",{className:"color-muted-grey margin-bottom-medium block"},t.username),r.a.createElement("div",{className:"line-height-copy font-size-medium color-black"},r.a.createElement(ee.a,{source:t.text}))),r.a.createElement("footer",{className:"box-shadow-inset border-top border-color-grey border-bottom-radius background-color-light-grey padding-vertical-small font-size-tiny padding-horizontal-large"},r.a.createElement("button",{onClick:function(e){i(!1),d(!s)},href:"#",className:"color-muted-grey color-black--on-hover cursor-pointer no-decoration margin-right"},"reply"),r.a.createElement("button",{onClick:function(e){d(!1),i(!l)},href:"#",className:"color-muted-grey color-black--on-hover cursor-pointer no-decoration margin-right"},"edit"),r.a.createElement("button",{onClick:function(e){n({type:U,payload:{comment:t}})},href:"#",className:"color-muted-grey color-black--on-hover cursor-pointer no-decoration"},"remove"))),r.a.createElement(ie,{className:"overflow-hidden",pose:l?"open":"closed"},ue(t,function(){return i(!1)},function(){return i(!1)})),r.a.createElement(ie,{className:"overflow-hidden",pose:s?"open":"closed"},me(t,function(){return d(!1)},function(){return d(!1)})))};function de(e){var t=e.parentId,n=void 0===t?null:t,o=Object(a.useContext)(K).state.comments.filter(function(e){return e.parentId===n});return r.a.createElement("div",{className:"max-width-9"},r.a.createElement("ul",null,o.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(se,{ListComponent:de,comment:e})),r.a.createElement("div",{className:"margin-left"},r.a.createElement(de,{parentId:e.id})))})))}function fe(){var e=C("ergusto:comments",X,H()),t=Object(p.a)(e,2),n=t[0],a=t[1];return n.comments.filter(function(e){return null===e.parentId}).length||a({type:V}),r.a.createElement("div",{className:"page font-family-raleway full-height justify-centre padding-horizontal padding-vertical-3"},r.a.createElement(T,null),r.a.createElement(Q,{state:n,dispatch:a},r.a.createElement(de,null)))}var be=n(3),he=n.n(be),pe=(n(381),function(e,t){return setTimeout(t,e)});function ge(){var e=Object(a.useState)(!1),t=Object(p.a)(e,2),n=t[0],o=t[1],c=Object(a.useRef)(null),l=Object(a.useRef)(null),i=Object(a.useRef)(null),u=Object(a.useRef)(null),m=Object(a.useRef)(null),s=Object(a.useRef)(null),d=Object(a.useRef)(null),f=Object(a.useRef)(null),b=Object(a.useRef)(null),g=Object(a.useRef)(null),E=Object(a.useRef)(null);return n?r.a.createElement(h.a,{to:"/comments"}):r.a.createElement("div",{ref:s,className:"page full-height background-color-blue justify-centre color-white"},r.a.createElement("div",{className:"text-align-center font-family-comfortaa"},r.a.createElement("p",{ref:g,className:"margin-bottom transparent"},"Hi, ",r.a.createElement("span",{className:"transparent",ref:E},"my name is")),r.a.createElement("h1",{ref:d,className:"site-title margin-bottom-medium"},r.a.createElement("span",{ref:c},"f"),r.a.createElement("span",null,"erg"),r.a.createElement("span",{ref:l},"u"),r.a.createElement("span",{ref:i},"s"),r.a.createElement("span",{className:"transparent",ref:f},"\xa0"),r.a.createElement("span",{ref:u},"r"),r.a.createElement("span",null,"usto"),r.a.createElement("span",{ref:m},"n")),r.a.createElement("div",{className:"introduction-start-container text-align-center"},r.a.createElement("button",{ref:b,onClick:function(e){e&&e.preventDefault(),he()(b.current,{opacity:0}),he()(b.current,{display:"none"}),pe(1e3,function(){he()(g.current,{opacity:1},{duration:600}),pe(1e3,function(){he()(E.current,{opacity:1},{duration:600}),pe(1e3,function(){he()(c.current,{color:"#000"}),pe(400,function(){he()(i.current,{color:"#000"}),pe(400,function(){he()(u.current,{color:"#000"}),pe(400,function(){he()(m.current,{color:"#000"}),pe(400,function(){he()(c.current,{opacity:0}),he()(i.current,{opacity:0}),he()(u.current,{opacity:0}),he()(m.current,{opacity:0}),pe(400,function(){he()(c.current,{width:"0px"}),he()(l.current,{width:"0px"}),he()(i.current,{width:"0px"}),he()(f.current,{width:"0px"}),he()(u.current,{width:"0px"}),he()(m.current,{width:"0px"}),pe(1e3,function(){he()(g.current,{opacity:0}),pe(1200,function(){he()(d.current,{opacity:0}),he()(s.current,{opacity:0},{duration:1200}),pe(600,function(){o(!0)})})})})})})})})})})})},className:"introduction-start-button button button--fade button--ghost"},"Start"))))}var Ee=n(149),ye=n(146),ve=n(150),we=function(e){function t(){return Object(g.a)(this,t),Object(Ee.a)(this,Object(ye.a)(t).apply(this,arguments))}return Object(ve.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"page full-height justify-centre"},r.a.createElement("div",{className:"align-center comfortaa"},r.a.createElement("h1",null,"Not found"),r.a.createElement("h2",{className:"margin-vertical"},"404"),r.a.createElement(b.b,{to:"/",className:"color-black no-decoration button button--outline inline-block"},"Go back to safety")))}}]),t}(r.a.Component),Ne=function(){return localStorage.clear(),r.a.createElement(h.a,{to:"/"})},je=function(){return Object(a.useEffect)(function(){document.body.classList.add("background-color-light-grey")},[]),r.a.createElement(b.a,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/",exact:!0,component:ge}),r.a.createElement(h.b,{path:"/calendar",exact:!0,component:Y}),r.a.createElement(h.b,{path:"/comments",exact:!0,component:fe}),r.a.createElement(h.b,{path:"/reset",exact:!0,component:Ne}),r.a.createElement(h.b,{component:we})))};n(383),n(385),n(387);f.a.init();var Oe=function(){return r.a.createElement(je,null)};m.b.add(s.a),"ontouchstart"in document.documentElement||document.documentElement.classList.add("no-touch"),l.a.locale(u.a),c.a.render(r.a.createElement(Oe,null),document.getElementById("root"))}},[[151,2,1]]]);
//# sourceMappingURL=main.e6457e65.chunk.js.map